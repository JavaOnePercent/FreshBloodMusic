webpackJsonp([1],{"+VGo":function(t,e){},"//To":function(t,e){},0:function(t,e,i){t.exports=i("NHnr")},"0kl/":function(t,e){},1:function(t,e){},"1OYK":function(t,e){},"4zJ4":function(t,e){},EGC9:function(t,e){},Ljrv:function(t,e){},MC4Y:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("mJx5");var s=i("/5sW"),n={name:"header-container",data:function(){return{menuShow:!1,username:"cock"}},methods:{showMenu:function(){this.$store.commit("showLoader",!0)},openProfile:function(){this.$store.commit("showProfile")}}},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-conteiner"},[i("div",{staticClass:"header"},[i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"name"},[t._v("\n                    BoysBand\n                ")])]),i("div",{staticClass:"management"},[i("div",{staticClass:"drop-menu row",on:{mouseenter:function(e){t.menuShow=!t.menuShow},mouseleave:function(e){t.menuShow=!t.menuShow}}},[i("span",[t._v(t._s(t.username))]),i("img",{staticClass:"user",attrs:{title:"загрузить",src:"/static/mainapp/images/user.svg",alt:"user"}}),t.menuShow?i("ul",{staticClass:"menu-drop"},[i("li",[i("router-link",{attrs:{to:"/performers/me"}},[t._v("Профиль")])],1),t._m(0)]):t._e()]),i("img",{staticClass:"uploadButton",attrs:{src:"/static/mainapp/images/download.svg",alt:"loader"},on:{click:t.showMenu}})])],1)])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"auth/logout/"}},[t._v("Выйти")])])}],o=i("XyMi");function l(t){i("akb9")}var c=!1,u=l,h="data-v-4cf48752",d=null,m=Object(o["a"])(n,a,r,c,u,h,d),p=m.exports,f={name:"profile",data:function(){return{albums:[],likes:[]}},watch:{$route:"receiveData"},created:function(){this.receiveData()},computed:{name:function(){return this.$store.state.performerName},logo:function(){return this.$store.state.performerLogo},description:function(){return this.$store.state.performerDescription}},methods:{receiveData:function(){var t=this.$route.params.id;this.$http.get("performers/"+t).then(function(t){for(var e=0;e<t.body.albums.length;e++){for(var i=[],s=0;s<t.body.albums[e].tracks.length;s++)i.push({name:t.body.albums[e].tracks[s].name_trc,id:t.body.albums[e].tracks[s].id});this.$set(this.albums,e,{name:t.body.albums[e].name_alb,logo:t.body.albums[e].image_alb,genre:t.body.albums[e].genre+" / "+t.body.albums[e].style,date:t.body.albums[e].date_alb,tracks:i})}this.$store.commit("performerID",t.body.id),this.$store.commit("performerName",t.body.name_per),this.$store.commit("performerLogo",t.body.image_per),this.$store.commit("performerDescription",t.body.about_per)}),this.$http.get("likes").then(function(t){for(var e=0;e<t.body.length;e++)this.$set(this.likes,e,{name:t.body[e].name_trc,performer:t.body[e].name_per,logo:t.body[e].image_alb})})},backgroundImage:function(t){return"background-image: url("+t+")"},nastrClick:function(){this.$emit("nastr-clicked")}}},g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ProfileConteiner",attrs:{id:"body"}},[i("div",{staticClass:"profile-row"},[i("div",{staticClass:"leftColumn"},[i("div",{staticClass:"ProfileLable Lblock"},[i("img",{staticClass:"ProfileImg",attrs:{src:t.logo,alt:"аватарка"}}),i("router-link",{attrs:{to:"/settings"}},[i("div",{staticClass:"ProfileNastr",on:{click:t.nastrClick}},[i("label",[t._v("Настройки")]),i("img",{attrs:{src:"/static/mainapp/images/settings-cogwheel-button.svg",alt:"настройки"}})])])],1),t._m(0),i("div",{staticClass:"LikeMusic Lblock"},[i("label",{attrs:{title:"Понравившаяся музыка"}},[t._v("Понравившаяся музыка("+t._s(t.likes.length)+")")]),i("hr"),t._l(t.likes,function(e,s){return i("div",{key:s,staticClass:"likedMusic"},[i("div",{staticClass:"musicLable",style:t.backgroundImage(e.logo)}),i("div",{staticClass:"musicLablecontrol",staticStyle:{"background-image":"url(/static/mainapp/images/play-arrow.svg)"}}),t._v("\n                "+t._s(e.performer)+" - "+t._s(e.name)+"\n            ")])})],2)]),i("div",{staticClass:"rightColumn"},[i("div",{staticClass:"ProfileName Rblock"},[i("label",[t._v(t._s(t.name))])]),i("div",{staticClass:"ProfileDescription Rblock"},[i("label",[t._v("Описание")]),i("p",[t._v(t._s(t.description))])]),i("div",{staticClass:"MyAlbums Rblock"},[i("label",[t._v("Мои издания")]),t._l(t.albums,function(e,s){return i("div",{key:s,staticClass:"MyAlbums-conteiner"},[i("div",{staticClass:"MyAlbum"},[i("img",{staticClass:"MyAlbum-lable",attrs:{src:e.logo,alt:"настройки"}}),i("div",{staticClass:"Albom-Description"},[i("span",[t._v(" "+t._s(e.name))]),i("label",[t._v(" жанр: "+t._s(e.genre))]),i("label",[t._v(" дата выхода: "+t._s(e.date))]),i("span",{staticClass:"more"},[t._v(" подробнее... ")])]),i("div",{staticClass:"MyAlbum-music"},[i("div",{staticClass:"Mymusic-conteiner"},t._l(e.tracks,function(e,s){return i("div",{key:s,staticClass:"MyMusic"},[i("div",{staticClass:"MyMusiccontrol",staticStyle:{"background-image":"url(/static/mainapp/images/play-arrow.svg)"}}),t._v("\n                                    "+t._s(e.name)+"\n                                ")])}))])])])})],2)])])])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"VK Lblock"},[i("label",[t._v("В контакте")]),i("img",{attrs:{src:"/static/mainapp/images/vk.svg",alt:"настройки"}})])}];function y(t){i("ku8m")}var k=!1,b=y,x="data-v-f43f0b80",w=null,_=Object(o["a"])(f,g,v,k,b,x,w),C=_.exports,S=(i("EuXz"),{name:"settings",data:function(){return{name:"",label:null,description:"",id:0}},created:function(){this.name=this.$store.state.performerName,this.label=this.$store.state.performerLogo,this.description=this.$store.state.performerDescription,this.id=this.$store.state.performerID},methods:{setLabel:function(t){this.label=t.target.files[0]},saveSettings:function(){var t=new FormData;t.append("name",this.name),t.append("label",this.label),t.append("description",this.description),t.append("id",this.id),this.$http.post("performers",t).then(function(t){this.$store.commit("performerLogo",""),this.$store.commit("performerLogo",this.label),this.$emit("cencle-clicked")})},cencleClick:function(){this.$emit("cencle-clicked")}}}),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nastr-conteiner"},[i("form",{attrs:{method:"POST"}},[i("link",{attrs:{rel:"stylesheet",href:"/static/mainapp/css/nastr.css",type:"text/css"}}),i("div",{staticClass:"nastr-row"},[i("div",{staticClass:"mainNastr block"},[i("label",[t._v("Настройки")]),i("hr"),i("div",{staticClass:"N-name str"},[i("label",{staticClass:"line"},[t._v("Ваше имя:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"N-name",maxlength:"40"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),i("div",{staticClass:"N-Lable str"},[i("label",{staticClass:"line"},[t._v("Аватар:")]),i("input",{attrs:{type:"file",name:"lable",multiple:"",accept:"image/*"},on:{change:t.setLabel}})]),i("div",{staticClass:"N-Description nastr-row"},[i("label",{staticClass:"line"},[t._v("О себе:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",name:"N-Description",maxlength:"800"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),t._m(0),t._m(1),i("div",{staticClass:"N-subbmit block nastr-row"},[i("div",{staticClass:"str"},[i("router-link",{attrs:{to:"/performers/me"}},[i("button",{staticClass:"N-sub",attrs:{name:"sub"},on:{click:t.saveSettings}},[t._v(" Сохранить ")])]),i("router-link",{attrs:{to:"/performers/me"}},[i("div",{staticClass:"Cancel",attrs:{type:"reset"},on:{click:t.cencleClick}},[t._v("Отмена")])])],1)])])])])},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"N-vk block nastr-row"},[i("label",{staticClass:"line"},[t._v("Привязка акканута к ВК:")]),t._v("\n                  ну а тут можно просто ссылку требовать в инпут \n              ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"N-style block nastr-row"},[i("label",[t._v("Вид страницы")]),i("hr"),i("div",{staticClass:"str"},[i("label",{staticClass:"line"},[t._v("Фон профиля:")]),i("input",{attrs:{type:"file",name:"background",multiple:"",accept:"image/*"}})]),i("div",{staticClass:"str"},[i("label",{staticClass:"line"},[t._v("Цвет фона:")]),i("input",{attrs:{type:"color"}})]),i("div",{staticClass:"str"},[i("label",{staticClass:"line"},[t._v("Любимый альбом:")]),t._v("\n                      поиск по всем альбомам\n                  ")])])}];function T(t){i("MC4Y")}var D=!1,P=T,V="data-v-d0ace77a",A=null,I=Object(o["a"])(S,L,E,D,P,V,A),N=I.exports,F={name:"main-compilation",data:function(){return{compilation:[],compilations:[],url:"track?genre=all",loading:!1}},mounted:function(){document.body.addEventListener("scroll",this.onScroll,!1)},methods:{onScroll:function(t){var e=t.target,i=document.getElementById("main"),s=e.scrollTop,n=e.offsetHeight,a=i.offsetHeight,r=a-n;r<=s&&!this.loading&&null!=this.url&&this.showGenre()},showGenre:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0;var e={};null!=t&&(this.url="track",this.compilations=[],e={params:{genre:t}}),this.$http.get(this.url,e).then(function(t){this.compilation=t.body.results;for(var e=0;e<this.compilation.length;e++)null===this.compilation[e].image_alb&&(this.compilation[e].image_alb="/static/mainapp/images/cat.jpg");this.compilations=this.compilations.concat(this.compilation),this.url=t.body.next,this.loading=!1},function(t){this.loading=!1})},trackClick:function(t){this.$bus.$emit("trackclicked",{id:this.compilations[t].id})}},created:function(){this.showGenre("all")}},M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"compilation-top"}},[i("div",{staticClass:"recommendations"},[t._m(0),i("div",{staticClass:"music-style"},[i("a",{staticClass:"janr",attrs:{name:""},on:{click:function(e){t.showGenre("all")}}},[t._v("Все")]),i("a",{staticClass:"janr",attrs:{name:""},on:{click:function(e){t.showGenre("rec")}}},[t._v("Рекомендации")]),i("a",{staticClass:"janr",attrs:{name:""},on:{click:function(e){t.showGenre("fav")}}},[t._v("Избранное")])])]),i("div",{ref:"list",staticClass:"compilation convert"},t._l(t.compilations,function(e,s){return i("div",{key:s,staticClass:"music"},[i("img",{staticClass:"cover",attrs:{src:e.image_alb,alt:"обложка"},on:{click:function(e){t.trackClick(s)}}}),i("img",{staticClass:"disk",attrs:{src:e.image_alb,alt:"disk"}}),i("span",{staticClass:"group-name",attrs:{title:e.name_trc}},[t._v(t._s(e.name_trc))]),i("span",{staticClass:"music-name"},[t._v(t._s(e.name_per))])])}))])},R=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sortirovka"},[i("label",{staticClass:"sortirovka-name"},[t._v("Рекомендации")]),i("div",{staticClass:"sort"},[i("label",[t._v("Отсортировать по:")]),i("a",{staticClass:"time",attrs:{id:"button"}},[t._v("времени")]),i("a",{staticClass:"topic",attrs:{id:"button"}},[t._v("популярности")])])])}];function j(t){i("QCm8")}var O=!1,B=j,q="data-v-3aa478b4",z=null,W=Object(o["a"])(F,M,R,O,B,q,z),H=W.exports,K={name:"performer-top",data:function(){return{compositors:[]}},methods:{showBest:function(){this.$http.get("best_performer/").then(function(t){this.compositors=t.data},function(t){})}},created:function(){this.showBest()}},Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"compositor-top"},[i("label",[t._v("\n        Лучшие исполнители\n    ")]),i("div",{staticClass:"compositors",attrs:{id:"compositors"}},t._l(t.compositors,function(e,s){return i("div",{key:s,staticClass:"compositor"},[i("img",{staticClass:"compositor-avatar",attrs:{src:e.image_per,alt:"обложка"}}),i("label",{staticClass:"compositor-name"},[t._v(t._s(e.name_per))])])}))])},G=[];function Y(t){i("Ljrv")}var J=!1,X=Y,U="data-v-0b6e1b1a",Z=null,tt=Object(o["a"])(K,Q,G,J,X,U,Z),et=tt.exports,it={name:"music-top",data:function(){return{infotracks:[]}},methods:{showMonth:function(){this.$http.get("top_month/").then(function(t){this.infotracks=t.data},function(t){})}},created:function(){this.showMonth()}},st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"music-top"},[i("div",{staticClass:"next-page",attrs:{id:"next-page"}}),i("div",{staticClass:"previous-page",attrs:{id:"previous-page"}}),t._l(t.infotracks,function(e,s){return i("div",{key:s,staticClass:"infotrack"},[i("img",{staticClass:"img",attrs:{src:e.image_alb,alt:"обложка"}}),i("div",{staticClass:"text"},[i("label",[t._v("Лучшая в этом месяце")]),i("p",[t._v(t._s(e.name_per)+" - "+t._s(e.name_trc))]),i("p",[t._v("Понравилась: "+t._s(e.rating_trc)+" пользователям")]),t._m(0,!0),t._m(1,!0)])])})],2)},nt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play"},[i("i",{staticClass:"fa fa-play fa-4x",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"turn"},[i("i",{staticClass:"fa fa-align-justify fa-4x",attrs:{"aria-hidden":"true"}})])}];function at(t){i("EGC9")}var rt=!1,ot=at,lt="data-v-5ceda0bc",ct=null,ut=Object(o["a"])(it,st,nt,rt,ot,lt,ct),ht=ut.exports,dt={name:"main-compilation",components:{compilationTop:H,performerTop:et,musicTop:ht},data:function(){return{message:"сообщение",hoverClass:"disk"}},methods:{}},mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",attrs:{id:"main"}},[i("div",{staticClass:"topics"},[i("music-top"),i("performer-top")],1),i("compilation-top"),i("footer",[t._v("\n          ©Отвратительные мужики\n      ")])],1)},pt=[];function ft(t){i("VgaS")}var gt=!1,vt=ft,yt="data-v-55ddd936",kt=null,bt=Object(o["a"])(dt,mt,pt,gt,vt,yt,kt),xt=bt.exports,wt=(i("9Yib"),i("A0n/"),i("fx22"),i("VjuZ"),{name:"loader",data:function(){return{track_name_loader:"",photo:"",track:[],errorMessage:"",src:"",imgStyle:"camera",loaderStyle:"track-upload",currentEdit:null,trackName:"",janr:"жанр",genreID:"",show:!1,menuIndex:null,pointerEvents:"pointerEvents",dragging:0,dropbox:null,dropAll:null,menuItems:[]}},mounted:function(){this.dropbox=document.getElementById("dropbox"),this.dropAll=document.getElementById("body"),this.dropAll.addEventListener("dragover",this.dragoverAll,!1),this.dropAll.addEventListener("dragleave",this.dragleaveAll,!1),this.dropAll.addEventListener("dragenter",this.dragenterAll,!1),this.dropbox.addEventListener("dragenter",this.dragenter,!1),this.dropbox.addEventListener("dragover",this.dragover,!1),this.dropbox.addEventListener("dragleave",this.dragleave,!1),this.dropbox.addEventListener("drop",this.drop,!1),$(document).on("dragover drop",function(t){t.stopPropagation(),t.preventDefault(),dropAll.style.pointerEvents="all",vm.loaderStyle="track-upload"})},methods:{genresButtonClick:function(){var t=this;this.show=!this.show,0===this.menuItems.length&&this.$http.get("genre").then(function(e){e.body.forEach(t.genresIterator)})},genresIterator:function(t,e,i){this.$set(this.menuItems,e,{name:t.name_gnr,id:t.id,children:[]})},genreClick:function(t){var e=this;this.menuIndexfunc(t),0===this.menuItems[t].children.length&&this.$http.get("genre",{params:{id:this.menuItems[t].id}}).then(function(t){t.body.forEach(e.stylesIterator)})},stylesIterator:function(t,e,i){this.$set(this.menuItems[this.menuIndex].children,e,{name:t.name_stl,id:t.id})},dragenter:function(t){t.stopPropagation(),t.preventDefault(),this.loaderStyle="track-upload-drop2",t.dataTransfer.dropEffect="copy"},dragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy",this.loaderStyle="track-upload-drop2"},dragleaveAll:function(t){t.stopPropagation(),t.preventDefault(),this.dragging--,0===this.dragging&"track-upload-drop2"!=this.loaderStyle&&(this.loaderStyle="track-upload",this.dropAll.style.pointerEvents="all")},dragoverAll:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="none"},dragenterAll:function(t){t.stopPropagation(),t.preventDefault(),this.dragging++,this.dropAll.style.pointerEvents="none",t.dataTransfer.dropEffect="none",this.loaderStyle="track-upload-drop"},dragleave:function(t){t.stopPropagation(),t.preventDefault(),"track-upload-drop2"===this.loaderStyle&&(this.loaderStyle="track-upload",this.dropAll.style.pointerEvents="all")},drop:function(t){t.stopPropagation(),t.preventDefault(),this.dropAll.style.pointerEvents="all",this.loaderStyle="track-upload";var e=t.dataTransfer,i=e.files;document.getElementById("add").files=i},close:function(){this.$store.commit("showLoader",!1)},sync_photo:function(t){t.preventDefault();var e=document.querySelector('img[alt="обложка"]'),i=document.querySelector('input[name="photo"]').files[0],s=new FileReader;this.errorMessage="",this.photo=t.target.files[0],s.onloadend=function(){e.src=s.result},i?"image/jpeg"==t.target.files[0].type||"image/png"==t.target.files[0].type?(s.readAsDataURL(i),this.imgStyle="Loaderimg"):(e.src="/static/mainapp/images/camera.svg",this.imgStyle="camera",this.errorMessage="формат картинки только jpg"):(e.src="/static/mainapp/images/camera.svg",this.imgStyle="camera")},sync_track:function(t){t.preventDefault();for(var e=0;e<t.target.files.length;e++){if(!(this.track.length<20)){this.errorMessage="был превышен лимит";break}if("mp3"==t.target.files[e].name.split(".").pop()){this.errorMessage="";var i={name:t.target.files[e].name.replace(/\.[^.]+$/,""),file:t.target.files[e]};this.track.push(i)}else this.errorMessage="формат музыки только mp3"}this.$refs.add.value=""},track_Name:function(t){t.preventDefault(),this.track[this.currentEdit].name.length<1&&(console.log(this.trackName),this.errorMessage="название трека не может быть пустым",this.track[this.currentEdit].name=this.trackName),console.log(this.track[this.currentEdit].name.length)},send:function(){var t=this.track_name_loader,e=this.track,i=this.photo,s=new FormData;s.append("photo",this.photo);var n=!0,a=!1,r=void 0;try{for(var o,l=this.track[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){e=o.value;s.append("track",e.file),s.append("track_name",e.name)}}catch(t){a=!0,r=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}s.append("name",this.track_name_loader),s.append("gen_id",this.genreID),console.log("track_name_loader, track, photo=",t,e,i),t&&e?(this.errorMessage="",this.$http.post("album",s).then(function(t){console.log("Success! Response: ",t.body)})):(this.errorMessage="Ты в пиве",console.log("errorMessage=",this.errorMessage))},imit:function(){this.$refs.fileInput.click()},deleteTrack:function(t){this.track.splice(t,1)},upgradeName:function(t){this.currentEdit=t,this.trackName=this.track[this.currentEdit].name},setSelectedItem:function(t){this.selectedDropdown=t},menuIndexfunc:function(t){null===this.menuIndex||t!=this.menuIndex?this.menuIndex=t:this.menuIndex=null},chooseJanr:function(t,e){this.show=!this.show,this.janr=t,this.genreID=e}}}),_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loader-conteiner",attrs:{id:"loader-conteiner"}},[i("header",{staticClass:"Loaderheader"},[i("span",[t._v("Загрузка музыки")]),i("img",{staticClass:"esc",attrs:{src:"/static/mainapp/images/whiteClose.png"},on:{click:t.close}})]),i("form",{attrs:{method:"POST"}},[i("div",{staticClass:"track-img-loader-conteiner"},[i("label",[t._v("Обложка издания:")]),i("img",{class:t.imgStyle,attrs:{src:"/static/mainapp/images/camera.svg",alt:"обложка"},on:{click:t.imit}})]),i("div",{staticClass:"track-name-loader-conteiner"},[i("label",{attrs:{for:"track-name-loader"}},[t._v("Название издания*:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.track_name_loader,expression:"track_name_loader"}],staticClass:"track-name-loader",attrs:{type:"text",name:"track-name-loader",placeholder:"",maxlength:"40"},domProps:{value:t.track_name_loader},on:{input:function(e){e.target.composing||(t.track_name_loader=e.target.value)}}})]),i("div",{staticClass:"track-janr-loader-conteiner"},[i("label",{attrs:{for:"track-janr-loader"}},[t._v("Жанр издания*:")]),i("div",{staticClass:"Loaderjanr",on:{click:t.genresButtonClick}},[t._v(t._s(t.janr))]),t.show?i("ul",{staticClass:"janr-drop"},t._l(t.menuItems,function(e,s){return i("li",{key:s,on:{click:function(e){t.genreClick(s)}}},[t._v(t._s(e.name)+"\n                    "),t.menuIndex===s?i("ul",{staticClass:"janr-drop-menu"},t._l(e.children,function(e,s){return i("li",{key:s,on:{click:function(i){t.chooseJanr(e.name,e.id)}}},[t._v(" "+t._s(e.name)+"\n                        ")])})):t._e()])})):t._e()]),t._m(0),i("input",{ref:"fileInput",staticClass:"add",staticStyle:{display:"none"},attrs:{id:"photo",type:"file",name:"photo",accept:"image/*,image/jpeg"},on:{change:t.sync_photo}}),t._l(t.track,function(e,s){return i("div",{key:s,staticClass:"loader-tracks"},[i("img",{staticClass:"Loaderplay",attrs:{src:"/static/mainapp/images/playButton.png",alt:"play"}}),t.currentEdit===s?i("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.name,expression:"tracks.name"}],staticClass:"track",attrs:{id:"input",type:"text",maxlength:"30"},domProps:{value:e.name},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.currentEdit=null},change:t.track_Name,blur:function(e){t.currentEdit=null},input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}}):i("div",{staticClass:"track",staticStyle:{cursor:"pointer"},on:{click:function(e){t.upgradeName(s)}}},[t._v(t._s(e.name))]),t.currentEdit===s?i("img",{staticClass:"edit",attrs:{src:"/static/mainapp/images/forward.png"},on:{mousedown:function(e){t.currentEdit=null}}}):i("img",{staticClass:"edit",attrs:{src:"/static/mainapp/images/edit.png"},on:{mousedown:function(e){t.upgradeName(s)}}}),i("img",{staticClass:"del",attrs:{src:"/static/mainapp/images/xiomi.png"},on:{click:function(e){t.deleteTrack(s)}}}),i("hr",{staticClass:"HRloader"})])}),i("div",{staticClass:"add",class:t.loaderStyle,staticStyle:{"pointer-events":"all"},attrs:{id:"dropbox"}},[i("label",[i("input",{ref:"add",staticStyle:{display:"none"},attrs:{id:"add",type:"file",name:"track",multiple:"",accept:"audio/mpeg"},on:{change:t.sync_track}}),t._v("\n                Добавить композицию\n            ")])]),i("div",{staticClass:"error",attrs:{id:"error"}},[i("label",[t._v(t._s(t.errorMessage)+" ")])]),this.track.length>0&""!=t.track_name_loader&"жанр"!=t.janr?i("button",{staticClass:"loader",attrs:{name:"loader"},on:{click:function(e){e.preventDefault(),t.send()}}},[t._v("Загрузить ")]):t._e()],2)])},Ct=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"description-conteiner"},[i("label",{attrs:{for:"track-name-loader"}},[t._v("Описание издания:")]),i("textarea",{attrs:{type:"text",name:"description",maxlength:"800"}})])}];function St(t){i("//To")}var $t=!1,Lt=St,Et="data-v-216f06a0",Tt=null,Dt=Object(o["a"])(wt,_t,Ct,$t,Lt,Et,Tt),Pt=Dt.exports,Vt={name:"buttons",props:["isFull"],data:function(){var t={play:"/static/mainapp/images/playButton.png",pause:"/static/mainapp/images/pauseButton.png"},e={drop:"/static/mainapp/images/dropdown.png",close:"/static/mainapp/images/closeDropdown.png"};return{playSrcs:t,dropdownSrcs:e,playSrc:t.play,dropdownSrc:e.drop}},methods:{playClick:function(){this.$store.commit("switchPlaying")},nextClick:function(){this.$emit("nextclick"),this.$bus.$emit("nextclick")},dropdownClick:function(){this.$emit("dropdownclick")}},computed:{playing:function(){return this.$store.state.playing},isDragging:function(){return this.$store.state.isDragging}},watch:{playing:function(t){t||this.isDragging?this.playSrc=this.playSrcs.pause:this.playSrc=this.playSrcs.play},isFull:function(t){this.dropdownSrc=t?this.dropdownSrcs.close:this.dropdownSrcs.drop}}},At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("img",{staticClass:"Button previous-button",attrs:{src:"/static/mainapp/images/nextButton.png",draggable:"false"}}),i("img",{staticClass:"Button play-button",attrs:{src:t.playSrc,draggable:"false"},on:{click:t.playClick}}),i("img",{staticClass:"Button next-button",attrs:{src:"/static/mainapp/images/nextButton.png",draggable:"false"},on:{click:t.nextClick}}),i("img",{staticClass:"Button dropdown-button",attrs:{src:t.dropdownSrc,draggable:"false"},on:{click:t.dropdownClick}})])},It=[];function Nt(t){i("0kl/")}var Ft=!1,Mt=Nt,Rt="data-v-ef7fbcd2",jt=null,Ot=Object(o["a"])(Vt,At,It,Ft,Mt,Rt,jt),Bt=Ot.exports,qt={name:"logos",props:["logoLink","nextLogoLink","prevLogoLink","isLiked","isFull"],data:function(){return{showLike:!1,showPrev:!1,rotationCSS:"",mainToPrevLogoAnimation:"",nextToMainLogoAnimation:"",mainLogoAnimation:"",prevEnvelopeAnimation:"",prevLogoAnimation:"",nextEnvelopeAnimation:"",nextLogoAnimation:"",audio:null,logo:"",prevLogo:"",lastRotation:"",wasPlaying:!1,nextEnvelopeLogo:""}},computed:{currentTime:function(){return this.$store.state.currentTime},playing:function(){return this.$store.state.playing},isDragging:function(){return this.$store.state.isDragging}},created:function(){var t=this;this.$bus.$on("nextclick",function(e){t.lastRotation=t.audio.currentTime/t.audio.duration*1080,t.wasPlaying=t.playing}),this.$bus.$on("playingended",function(e){t.lastRotation=t.audio.currentTime/t.audio.duration*1080,t.wasPlaying=!0}),this.$bus.$on("startplaying",function(e){t.rotate(!1,0),t.wasPlaying&&(t.rotate(!1,.1/t.audio.duration*1080),setTimeout(t.rotate,100,!0,1080,t.audio.duration-t.audio.currentTime))}),this.$bus.$on("next-track-load",function(e){t.nextEnvelopeAnimation={opacity:1,transition:"opacity 0.1s"},t.nextLogoAnimation="visibility: hidden;",t.mainLogoAnimation="visibility: hidden;",t.mainToPrevLogoAnimation="transform: rotate("+t.lastRotation+"deg);",setTimeout(t.startAnimation,100)})},mounted:function(){this.audio=document.getElementById("audio")},watch:{isDragging:function(t){t||(this.rotate(!1,(this.audio.currentTime+.1)/this.audio.duration*1080),setTimeout(this.updateRotation,100,!0))},currentTime:function(t){this.isDragging&&this.isFull&&this.rotate(!1,t/this.audio.duration*1080)},isLiked:function(t){this.showLike=t},prevLogo:function(t){""!=t&&(this.showPrev=!0)},isFull:function(t){t?(this.rotate(!1,(this.audio.currentTime+(this.playing?.1:0))/this.audio.duration*1080),this.playing&&setTimeout(this.rotate,100,!0,1080,this.audio.duration-this.audio.currentTime)):this.rotationCSS=""},playing:function(t){this.isDragging||("transform: rotate(0deg);"!=this.rotationCSS?this.updateRotation(t):(this.rotate(!1,.1/this.audio.duration*1080),setTimeout(this.updateRotation,100,t)))}},methods:{refresh:function(t){this.nextEnvelopeLogo=t},nextLogoClick:function(){this.$bus.$emit("queue-opened")},startAnimation:function(){setTimeout(this.endAnimation,800),this.mainToPrevLogoAnimation+="left: -75px; height: 150px; width: 150px; top: 100px; transition: left 0.8s, height 0.3s, width 0.3s, top 0.3s;",this.nextToMainLogoAnimation={right:"165px",transition:"right 0.8s"},setTimeout(this.startExpandingNextToMain,500),this.prevEnvelopeAnimation={top:"100px",opacity:"1.0",transition:"top 0.3s, opacity 0.3s"},this.prevLogoAnimation="left: -200px; opacity: 0.0; transition: left 0.5s, opacity 0.5s;",this.nextLogoAnimation="right: -200px; opacity: 0.0; transition: all 0.0s",setTimeout(this.moveNextEnvelope,500)},endAnimation:function(){this.nextEnvelopeLogo=this.nextLogoLink,this.prevLogo=this.prevLogoLink,this.mainToPrevLogoAnimation="visibility:hidden;",this.nextToMainLogoAnimation="visibility:hidden;",this.mainLogoAnimation="",this.prevEnvelopeAnimation.opacity=0,this.prevEnvelopeAnimation.transition="opacity 0.15s",setTimeout(this.hidePrevEnvelope,150),this.prevLogoAnimation="",this.nextLogoAnimation="",this.nextEnvelopeAnimation="visibility:hidden;"},hidePrevEnvelope:function(){this.logo=this.logoLink,this.prevEnvelopeAnimation="visibility:hidden;"},startExpandingNextToMain:function(){this.nextToMainLogoAnimation.transition+=", top 0.3s, height 0.3s, width 0.3s",this.nextToMainLogoAnimation.top="40px",this.nextToMainLogoAnimation.height="270px",this.nextToMainLogoAnimation.width="270px"},moveNextEnvelope:function(){this.nextEnvelopeAnimation.top="0px",this.nextEnvelopeAnimation.opacity="0.0",this.nextEnvelopeAnimation.transition="all 0.3s",this.nextLogoAnimation="transition: right 0.5s, opacity 0.5s;"},click:function(){this.$emit("likepressed")},onMouseEnterMain:function(){!1===this.isLiked&&(this.showLike=!0)},onMouseLeaveMain:function(){!1===this.isLiked&&(this.showLike=!1)},updateRotation:function(t){this.isFull&&(t?this.rotate(!0,1080,this.audio.duration-this.audio.currentTime):this.rotate(!1,this.audio.currentTime/this.audio.duration*1080))},rotate:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.isFull&&(this.rotationCSS="transform: rotate("+e+"deg);"+(t?"transition: transform "+i+"s linear;":""))}}},zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"Button main-logo",style:t.mainLogoAnimation,on:{click:t.click,mouseenter:t.onMouseEnterMain,mouseleave:t.onMouseLeaveMain}},[i("img",{staticClass:"vinyl",attrs:{src:"/static/mainapp/images/redVinyl.png"}}),i("img",{staticClass:"logo",style:t.rotationCSS,attrs:{src:t.logoLink,draggable:"false"}}),i("img",{directives:[{name:"show",rawName:"v-show",value:t.showLike,expression:"showLike"}],staticClass:"Player like",attrs:{src:"/static/mainapp/images/like.png",draggable:"false"}})]),i("img",{staticClass:"main-to-prev-logo",style:t.mainToPrevLogoAnimation,attrs:{src:t.logo,draggable:"false"}}),i("img",{staticClass:"next-to-main-logo",style:t.nextToMainLogoAnimation,attrs:{src:t.logoLink,draggable:"false"}}),i("img",{staticClass:"prev-envelope",style:t.prevEnvelopeAnimation,attrs:{src:t.logo,draggable:"false"}}),i("img",{directives:[{name:"show",rawName:"v-show",value:t.showPrev,expression:"showPrev"}],staticClass:"Button prev-logo",style:t.prevLogoAnimation,attrs:{src:t.prevLogo,draggable:"false"}}),i("img",{staticClass:"Button next-logo",style:t.nextLogoAnimation,attrs:{src:t.nextLogoLink,draggable:"false"},on:{click:t.nextLogoClick}}),i("img",{staticClass:"next-envelope",style:t.nextEnvelopeAnimation,attrs:{src:t.nextEnvelopeLogo,draggable:"false"}})])},Wt=[];function Ht(t){i("w2z1")}var Kt=!1,Qt=Ht,Gt="data-v-e2f56c80",Yt=null,Jt=Object(o["a"])(qt,zt,Wt,Kt,Qt,Gt,Yt),Xt=Jt.exports,Ut={name:"menu-more",props:["performerID"],data:function(){return{showMenu:!1}},methods:{toggleDrop:function(){this.showMenu=!this.showMenu},closeDrop:function(){this.showMenu=!1}}},Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu",on:{click:t.toggleDrop}},[i("img",{staticClass:"Button menu-pic",attrs:{src:"/static/mainapp/images/menu.png",draggable:"false"}}),i("transition",{attrs:{name:"menu-more"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticClass:"menu-dropdown",on:{mouseleave:t.closeDrop}},[i("li",{staticClass:"Button"},[i("router-link",{attrs:{to:{name:"performer",params:{id:this.performerID}}}},[i("p",{staticClass:"menuElements"},[t._v("На страницу исполнителя")])])],1),i("li",{staticClass:"Button"},[i("p",{staticClass:"menuElements"},[t._v("Добавить в избранное")])]),i("li",{staticClass:"Button"},[i("p",{staticClass:"menuElements"},[t._v("Пожаловаться")])])])])],1)},te=[];function ee(t){i("yBbI")}var ie=!1,se=ee,ne="data-v-7a0293d1",ae=null,re=Object(o["a"])(Ut,Zt,te,ie,se,ne,ae),oe=re.exports,le={name:"track-performer",props:["trackName","performerName"]},ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track-performer-name"},[i("p",{staticClass:"track-name"},[t._v(t._s(t.trackName))]),i("p",{staticClass:"performer-name"},[t._v(t._s(t.performerName))])])},ue=[];function he(t){i("qBOf")}var de=!1,me=he,pe="data-v-47c77d12",fe=null,ge=Object(o["a"])(le,ce,ue,de,me,pe,fe),ve=ge.exports,ye={name:"VueSliderComponent",props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:6},data:{type:Array,default:null},dotSize:{type:Number,default:16},dotWidth:{type:Number,required:!1},dotHeight:{type:Number,required:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},value:{type:[String,Number,Array,Object],default:0},piecewiseLabel:{type:Boolean,default:!1},debug:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},processDragable:{type:Boolean,default:!1},useKeyboard:{type:Boolean,default:!1},actionsKeyboard:{type:Array,default:function(){return[function(t){return t-1},function(t){return t+1}]}},sliderStyle:[Array,Object,Function],focusStyle:[Array,Object,Function],tooltipDir:[Array,String],formatter:[String,Function],piecewiseStyle:Object,piecewiseActiveStyle:Object,processStyle:Object,bgStyle:Object,tooltipStyle:[Array,Object,Function],labelStyle:Object,labelActiveStyle:Object},data:function(){return{flag:!1,keydownFlag:null,focusFlag:!1,processFlag:!1,processSign:null,size:0,fixedValue:0,focusSlider:0,currentValue:0,currentSlider:0,isComponentExists:!0,widthWatcherInterval:null}},computed:{myCSS:function(){return"horizontal"==this.direction?"vue-slider-my":""},dotWidthVal:function(){return"number"===typeof this.dotWidth?this.dotWidth:this.dotSize},dotHeightVal:function(){return"number"===typeof this.dotHeight?this.dotHeight:this.dotSize},flowDirection:function(){return"vue-slider-".concat(this.direction+(this.reverse?"-reverse":""))},tooltipDirection:function(){var t=this.tooltipDir||("vertical"===this.direction?"left":"top");return Array.isArray(t)?this.isRange?t:t[1]:this.isRange?[t,t]:t},tooltipStatus:function(){return"hover"===this.tooltip&&this.flag?"vue-slider-always":this.tooltip?"vue-slider-".concat(this.tooltip):""},tooltipClass:function(){return["vue-slider-tooltip-".concat(this.tooltipDirection),"vue-slider-tooltip"]},isDisabled:function(){return"none"===this.eventType||this.disabled},disabledClass:function(){return this.disabled?"vue-slider-disabled":""},stateClass:function(){return{"vue-slider-state-process-drag":this.processFlag,"vue-slider-state-drag":this.flag&&!this.processFlag&&!this.keydownFlag,"vue-slider-state-focus":this.focusFlag}},isRange:function(){return Array.isArray(this.value)},slider:function(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:this.$refs.dot},minimum:function(){return this.data?0:this.min},val:{get:function(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set:function(t){if(this.data)if(this.isRange){var e=this.data.indexOf(t[0]),i=this.data.indexOf(t[1]);e>-1&&i>-1&&(this.currentValue=[e,i])}else{var s=this.data.indexOf(t);s>-1&&(this.currentValue=s)}else this.currentValue=t}},currentIndex:function(){return this.isRange?this.data?this.currentValue:[(this.currentValue[0]-this.minimum)/this.spacing,(this.currentValue[1]-this.minimum)/this.spacing]:(this.currentValue-this.minimum)/this.spacing},indexRange:function(){return this.isRange?this.currentIndex:[0,this.currentIndex]},maximum:function(){return this.data?this.data.length-1:this.max},multiple:function(){var t="".concat(this.interval).split(".")[1];return t?Math.pow(10,t.length):1},spacing:function(){return this.data?1:this.interval},total:function(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!==0&&this.printError("Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap:function(){return this.size/this.total},position:function(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap,(this.currentValue[1]-this.minimum)/this.spacing*this.gap]:(this.currentValue-this.minimum)/this.spacing*this.gap},limit:function(){return this.isRange?this.fixed?[[0,(this.maximum-this.fixedValue*this.spacing)/this.spacing*this.gap],[(this.minimum+this.fixedValue*this.spacing)/this.spacing*this.gap,this.size]]:[[0,this.position[1]],[this.position[0],this.size]]:[0,this.size]},valueLimit:function(){return this.isRange?this.fixed?[[this.minimum,this.maximum-this.fixedValue*this.spacing],[this.minimum+this.fixedValue*this.spacing,this.maximum]]:[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},idleSlider:function(){return 0===this.currentSlider?1:0},wrapStyles:function(){return"vertical"===this.direction?{height:"number"===typeof this.height?"".concat(this.height,"px"):this.height,padding:"".concat(this.dotHeightVal/2,"px ").concat(this.dotWidthVal/2,"px")}:{width:"number"===typeof this.width?"".concat(this.width,"px"):this.width}},sliderStyles:function(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:"function"===typeof this.sliderStyle?this.sliderStyle(this.val,this.currentIndex):this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},focusStyles:function(){return Array.isArray(this.focusStyle)?this.isRange?this.focusStyle:this.focusStyle[1]:"function"===typeof this.focusStyle?this.focusStyle(this.val,this.currentIndex):this.isRange?[this.focusStyle,this.focusStyle]:this.focusStyle},tooltipStyles:function(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:"function"===typeof this.tooltipStyle?this.tooltipStyle(this.val,this.currentIndex):this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles:function(){return"vertical"===this.direction?{width:"".concat(this.width,"px"),height:"100%"}:{height:"".concat(this.height,"px")}},dotStyles:function(){return"vertical"===this.direction?{width:"".concat(this.dotWidthVal,"px"),height:"".concat(this.dotHeightVal,"px"),left:"".concat(-(this.dotWidthVal-this.width)/2,"px")}:{width:"".concat(this.dotWidthVal,"px"),height:"".concat(this.dotHeightVal,"px"),top:"".concat(-(this.dotHeightVal-this.height)/2,"px")}},piecewiseDotStyle:function(){return"vertical"===this.direction?{width:"".concat(this.width,"px"),height:"".concat(this.width,"px")}:{width:"".concat(this.height,"px"),height:"".concat(this.height,"px")}},piecewiseDotWrap:function(){if(!this.piecewise&&!this.piecewiseLabel)return!1;for(var t=[],e=0;e<=this.total;e++){var i="vertical"===this.direction?{bottom:"".concat(this.gap*e-this.width/2,"px"),left:0}:{left:"".concat(this.gap*e-this.height/2,"px"),top:0},s=this.reverse?this.total-e:e,n=this.data?this.data[s]:this.spacing*s+this.min;t.push({style:i,label:this.formatter?this.formatting(n):n,inRange:s>=this.indexRange[0]&&s<=this.indexRange[1]})}return t}},watch:{width:function(t){this.widthWatcherInterval=setInterval(this.widthWatcher,50)},value:function(t){this.flag||this.setValue(t,!0)},max:function(t){if(t<this.min)return this.printError("The maximum value can not be less than the minimum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},min:function(t){if(t>this.max)return this.printError("The minimum value can not be greater than the maximum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},show:function(t){var e=this;t&&!this.size&&this.$nextTick(function(){e.refresh()})},fixed:function(){this.computedFixedValue()}},methods:{widthWatcher:function(){this.size!==this.$refs.wrap.offsetWidth&&(this.refresh(),clearInterval(this.widthWatcherInterval))},bindEvents:function(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousedown",this.blurSlider),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),window.addEventListener("resize",this.refresh)},unbindEvents:function(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousedown",this.blurSlider),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd),document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("resize",this.refresh)},handleKeydown:function(t){if(!this.useKeyboard||!this.focusFlag)return!1;switch(t.keyCode){case 37:case 40:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[0]);break;case 38:case 39:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[1]);break}},handleKeyup:function(){this.keydownFlag&&(this.keydownFlag=!1,this.flag=!1)},changeFocusSlider:function(t){var e=this;if(this.isRange){var i=this.currentIndex.map(function(i,s){if(s===e.focusSlider||e.fixed){var n=t(i),a=e.fixed?e.valueLimit[s]:[e.minimum,e.maximum];if(n<=a[1]&&n>=a[0])return n}return i});i[0]>i[1]&&(this.focusSlider=0===this.focusSlider?1:0,i=i.reverse()),this.setIndex(i)}else this.setIndex(t(this.currentIndex))},blurSlider:function(t){var e=this.isRange?this.$refs["dot".concat(this.focusSlider)]:this.$refs.dot;if(!e||e===t.target)return!1;this.focusFlag=!1},formatting:function(t){return"string"===typeof this.formatter?this.formatter.replace(/\{value\}/,t):this.formatter(t)},getPos:function(t){return this.realTime&&this.getStaticData(),"vertical"===this.direction?this.reverse?t.pageY-this.offset:this.size-(t.pageY-this.offset):this.reverse?this.size-(t.clientX-this.offset):t.clientX-this.offset},processClick:function(t){this.fixed&&t.stopPropagation()},wrapClick:function(t){if(this.isDisabled||!this.clickable||this.processFlag)return!1;var e=this.getPos(t);this.isRange&&(this.currentSlider=e>(this.position[1]-this.position[0])/2+this.position[0]?1:0),this.setValueOnPos(e,!0),this.moveStart()},moveStart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.isDisabled)return!1;if(this.stopPropagation&&t.stopPropagation(),this.isRange&&(this.currentSlider=e,i)){if(!this.processDragable)return!1;this.processFlag=!0,this.processSign={pos:this.position,start:this.getPos(t.targetTouches&&t.targetTouches[0]?t.targetTouches[0]:t)}}!i&&this.useKeyboard&&(this.focusFlag=!0,this.focusSlider=e),this.flag=!0,this.$emit("drag-start",this)},moving:function(t){if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.processFlag?(this.currentSlider=0,this.setValueOnPos(this.processSign.pos[0]+this.getPos(t)-this.processSign.start,!0),this.currentSlider=1,this.setValueOnPos(this.processSign.pos[1]+this.getPos(t)-this.processSign.start,!0)):this.setValueOnPos(this.getPos(t),!0)},moveEnd:function(t){var e=this;if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,window.setTimeout(function(){e.processFlag=!1},0),this.setPosition()},setValueOnPos:function(t,e){var i=this.isRange?this.limit[this.currentSlider]:this.limit,s=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit;if(t>=i[0]&&t<=i[1]){this.setTransform(t);var n=(Math.round(t/this.gap)*(this.spacing*this.multiple)+this.minimum*this.multiple)/this.multiple;this.setCurrentValue(n,e),this.isRange&&this.fixed&&(this.setTransform(t+this.fixedValue*this.gap*(0===this.currentSlider?1:-1),!0),this.setCurrentValue(n+this.fixedValue*this.spacing*(0===this.currentSlider?1:-1),e,!0))}else t<i[0]?(this.setTransform(i[0]),this.setCurrentValue(s[0]),this.isRange&&this.fixed?(this.setTransform(this.limit[this.idleSlider][0],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][0],e,!0)):this.fixed||1!==this.currentSlider||(this.focusSlider=0,this.currentSlider=0)):(this.setTransform(i[1]),this.setCurrentValue(s[1]),this.isRange&&this.fixed?(this.setTransform(this.limit[this.idleSlider][1],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][1],e,!0)):this.fixed||0!==this.currentSlider||(this.focusSlider=1,this.currentSlider=1))},isDiff:function(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||(Array.isArray(t)&&t.length===e.length?t.some(function(t,i){return t!==e[i]}):t!==e)},setCurrentValue:function(t,e,i){var s=i?this.idleSlider:this.currentSlider;if(t<this.minimum||t>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[s],t)&&(this.currentValue.splice(s,1,t),this.lazy&&this.flag||this.syncValue()):this.isDiff(this.currentValue,t)&&(this.currentValue=t,this.lazy&&this.flag||this.syncValue()),e||this.setPosition()},setIndex:function(t){var e;Array.isArray(t)&&this.isRange?(e=this.data?[this.data[t[0]],this.data[t[1]]]:[this.spacing*t[0]+this.minimum,this.spacing*t[1]+this.minimum],this.setValue(e)):(t=this.spacing*t+this.minimum,this.isRange&&(this.currentSlider=t>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(t))},setValue:function(t,e,i){var s=this;if(this.isDiff(this.val,t)){var n=this.limitValue(t);this.val=this.isRange?n.concat():n,this.computedFixedValue(),this.syncValue(e)}this.$nextTick(function(){return s.setPosition(i)})},computedFixedValue:function(){if(!this.fixed)return this.fixedValue=0,!1;this.fixedValue=this.currentIndex[1]-this.currentIndex[0]},setPosition:function(t){this.flag||this.setTransitionTime(void 0===t?this.speed:t),this.isRange?(this.setTransform(this.position[0],1===this.currentSlider),this.setTransform(this.position[1],0===this.currentSlider)):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform:function(t,e){var i=e?this.idleSlider:this.currentSlider,s=("vertical"===this.direction?this.dotHeightVal/2-t:t-this.dotWidthVal/2)*(this.reverse?-1:1),n="vertical"===this.direction?"translateY(".concat(s,"px)"):"translateX(".concat(s,"px)"),a=this.fixed?"".concat(this.fixedValue*this.gap,"px"):"".concat(0===i?this.position[1]-t:t-this.position[0],"px"),r=this.fixed?"".concat(0===i?t:t-this.fixedValue*this.gap,"px"):"".concat(0===i?t:this.position[0],"px");this.isRange?(this.slider[i].style.transform=n,this.slider[i].style.WebkitTransform=n,this.slider[i].style.msTransform=n,"vertical"===this.direction?(this.$refs.process.style.height=a,this.$refs.process.style[this.reverse?"top":"bottom"]=r):(this.$refs.process.style.width=a,this.$refs.process.style[this.reverse?"right":"left"]=r)):(this.slider.style.transform=n,this.slider.style.WebkitTransform=n,this.slider.style.msTransform=n,"vertical"===this.direction?(this.$refs.process.style.height="".concat(t,"px"),this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width="".concat(t,"px"),this.$refs.process.style[this.reverse?"right":"left"]=0))},setTransitionTime:function(t){if(t||this.$refs.process.offsetWidth,this.isRange){for(var e=0;e<this.slider.length;e++)this.slider[e].style.transitionDuration="".concat(t,"s"),this.slider[e].style.WebkitTransitionDuration="".concat(t,"s");this.$refs.process.style.transitionDuration="".concat(t,"s"),this.$refs.process.style.WebkitTransitionDuration="".concat(t,"s")}else this.slider.style.transitionDuration="".concat(t,"s"),this.slider.style.WebkitTransitionDuration="".concat(t,"s"),this.$refs.process.style.transitionDuration="".concat(t,"s"),this.$refs.process.style.WebkitTransitionDuration="".concat(t,"s")},limitValue:function(t){var e=this;if(this.data)return t;var i=function(i){return i<e.min?(e.printError("The value of the slider is ".concat(t,", the minimum value is ").concat(e.min,", the value of this slider can not be less than the minimum value")),e.min):i>e.max?(e.printError("The value of the slider is ".concat(t,", the maximum value is ").concat(e.max,", the value of this slider can not be greater than the maximum value")),e.max):i};return this.isRange?t.map(function(t){return i(t)}):i(t)},syncValue:function(t){var e=this.isRange?this.val.concat():this.val;this.$emit("input",e),t||this.$emit("callback",e)},getValue:function(){return this.val},getIndex:function(){return this.currentIndex},getStaticData:function(){this.$refs.elem&&(this.size="vertical"===this.direction?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.offset="vertical"===this.direction?this.$refs.elem.getBoundingClientRect().top+window.pageYOffset||document.documentElement.scrollTop:this.$refs.elem.getBoundingClientRect().left)},refresh:function(){this.$refs.elem&&(this.getStaticData(),this.computedFixedValue(),this.setPosition())},printError:function(t){this.debug&&console.error("[VueSlider error]: ".concat(t))}},mounted:function(){var t=this;if(this.isComponentExists=!0,"undefined"===typeof window||"undefined"===typeof document)return this.printError("window or document is undefined, can not be initialization.");this.$nextTick(function(){t.isComponentExists&&(t.getStaticData(),t.setValue(t.limitValue(t.value),!0,0),t.bindEvents())})},beforeDestroy:function(){this.isComponentExists=!1,this.unbindEvents()}},ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"wrap",class:["vue-slider-component",t.myCSS,t.flowDirection,t.disabledClass,t.stateClass,{"vue-slider-has-label":t.piecewiseLabel}],style:t.wrapStyles,on:{mousedown:t.wrapClick}},[i("div",{ref:"elem",staticClass:"vue-slider",style:[t.elemStyles,t.bgStyle],attrs:{"aria-hidden":"true"}},[t.isRange?[i("div",{ref:"dot0",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider}],style:[t.dotStyles,t.sliderStyles[0],t.focusFlag&&0===t.focusSlider?t.focusStyles[0]:null],on:{mousedown:function(e){t.moveStart(e,0)},touchstart:function(e){t.moveStart(e,0)}}},[i("span",{class:["vue-slider-tooltip-"+t.tooltipDirection[0],"vue-slider-tooltip-wrap"]},[t._t("tooltip",[i("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles[0]},[t._v(t._s("{{")+" formatter ? formatting(val[0]) : val[0] }}")])],{value:t.val[0],index:0})],2)]),i("div",{ref:"dot1",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&1===t.focusSlider}],style:[t.dotStyles,t.sliderStyles[1],t.focusFlag&&1===t.focusSlider?t.focusStyles[1]:null],on:{mousedown:function(e){t.moveStart(e,1)},touchstart:function(e){t.moveStart(e,1)}}},[i("span",{class:["vue-slider-tooltip-"+t.tooltipDirection[1],"vue-slider-tooltip-wrap"]},[t._t("tooltip",[i("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles[1]},[t._v(t._s("{{")+" formatter ? formatting(val[1]) : val[1] }}")])],{value:t.val[1],index:1})],2)])]:[i("div",{ref:"dot",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider}],style:[t.dotStyles,t.sliderStyles,t.focusFlag&&0===t.focusSlider?t.focusStyles:null],on:{mousedown:t.moveStart,touchstart:t.moveStart}},[i("span",{class:["vue-slider-tooltip-"+t.tooltipDirection,"vue-slider-tooltip-wrap"]},[t._t("tooltip",[i("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles},[t._v(t._s("{{")+" formatter ? formatting(val) : val }}")])],{value:t.val})],2)])],i("ul",{staticClass:"vue-slider-piecewise"},t._l(t.piecewiseDotWrap,function(e,s){return i("li",{key:s,staticClass:"vue-slider-piecewise-item",style:[t.piecewiseDotStyle,e.style]},[t._t("piecewise",[t.piecewise?i("span",{staticClass:"vue-slider-piecewise-dot",style:[t.piecewiseStyle,e.inRange?t.piecewiseActiveStyle:null]}):t._e()],{label:e.label,index:s,first:0===s,last:s===t.piecewiseDotWrap.length-1,active:e.inRange}),t._t("label",[t.piecewiseLabel?i("span",{staticClass:"vue-slider-piecewise-label",style:[t.labelStyle,e.inRange?t.labelActiveStyle:null]},[t._v("\r\n          "+t._s("{{")+" piecewiseObj.label }}\r\n        ")]):t._e()],{label:e.label,index:s,first:0===s,last:s===t.piecewiseDotWrap.length-1,active:e.inRange})],2)})),i("div",{ref:"process",class:["vue-slider-process",{"vue-slider-process-dragable":t.isRange&&t.processDragable}],style:t.processStyle,on:{click:t.processClick,mousedown:function(e){t.moveStart(e,0,!0)},touchstart:function(e){t.moveStart(e,0,!0)}}})],2),t.isRange||t.data?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"vue-slider-sr-only",attrs:{type:"range",min:t.min,max:t.max},domProps:{value:t.val},on:{__r:function(e){t.val=e.target.value}}})])},be=[];function xe(t){i("1OYK")}var we=!1,_e=xe,Ce="data-v-54cd9941",Se=null,$e=Object(o["a"])(ye,ke,be,we,_e,Ce,Se),Le=$e.exports,Ee={name:"volume-controller",components:{vueSliderComponent:Le},props:["isFull"],data:function(){var t={direction:"vertical",width:12,height:150,dotSize:20,speed:.3,tooltip:"hover"},e="/static/mainapp/images/",i={zero:e+"speaker0.png",thirty3:e+"speaker33.png",sixty6:e+"speaker66.png",hundred:e+"speaker100.png"};return{value:100,showVolume:!1,showFullVolume:!1,sliderprops:t,dragging:!1,mouseIn:!1,speakerPic:i.hundred,speakerPics:i}},watch:{value:function(t){localStorage.setItem("volume",this.value),this.$store.commit("volume",this.value),this.speakerPic=0===t?this.speakerPics.zero:t<=33?this.speakerPics.thirty3:t<=66?this.speakerPics.sixty6:this.speakerPics.hundred}},created:function(){var t=localStorage.getItem("volume");t&&(this.value=Number(t))},methods:{clickSpeaker:function(){if(this.value>0)sessionStorage.setItem("volume",this.value),this.value=0;else{var t=Number(sessionStorage.getItem("volume"));this.value=0!==t?t:100}},refreshFunc:function(){this.$refs.fullSlider.refresh()},mouseLeave:function(){this.mouseIn=!1,this.closeSpeaker()},mouseEnter:function(){this.mouseIn=!0},dragEnd:function(){this.dragging=!1,this.closeSpeaker()},dragStart:function(){this.dragging=!0},openSpeaker:function(){this.showVolume=!0,this.mouseIn=!0},closeSpeaker:function(){this.dragging||this.mouseIn||(this.showVolume=!1)}}},Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showVolume||t.isFull,expression:"showVolume || isFull"}],staticClass:"volume-control-zone",on:{mouseleave:t.mouseLeave,mouseenter:t.mouseEnter}},[i("transition",[i("div",{staticClass:"volume"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"volume-background"}),i("vue-slider-component",t._b({ref:"slider",attrs:{show:t.showVolume},on:{"drag-end":t.dragEnd,"drag-start":t.dragStart},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"vue-slider-component",t.sliderprops,!1))],1)])],1),i("img",{staticClass:"Button speaker",attrs:{src:t.speakerPic,draggable:"false"},on:{mouseenter:t.openSpeaker,click:t.clickSpeaker}})])},De=[];function Pe(t){i("izQS")}var Ve=!1,Ae=Pe,Ie="data-v-244d08c8",Ne=null,Fe=Object(o["a"])(Ee,Te,De,Ve,Ae,Ie,Ne),Me=Fe.exports,Re={name:"audio-player",props:["audioLink"],data:function(){return{isFirst:!0,timer:"",duration:0}},computed:{playing:function(){return this.$store.state.playing},isDragging:function(){return this.$store.state.isDragging},volume:function(){return this.$store.state.volume},newTime:{get:function(){return this.$store.state.currentTime}}},watch:{newTime:function(t){this.$store.state.isDragging&&(this.$refs.audio.currentTime=t)},playing:function(t){t?(this.$refs.audio.play(),this.timer=setInterval(this.updateProgress,500)):(clearInterval(this.timer),this.$refs.audio.pause())},volume:function(t){this.$refs.audio.volume=this.volume/100},isDragging:function(t){t||(this.$store.commit("playing",!0),this.$refs.audio.play())}},methods:{endPlaying:function(){this.$bus.$emit("playingended"),this.$emit("playingended")},startPlaying:function(){this.duration=this.$refs.audio.duration,this.$store.commit("duration",this.duration),this.updateProgress(),this.isFirst?this.isFirst=!1:(this.$store.commit("playing",!0),this.$refs.audio.play(),this.$bus.$emit("startplaying"))},updateProgress:function(){this.$store.state.isDragging||this.$store.commit("currentTime",this.$refs.audio.currentTime)}}},je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("audio",{ref:"audio",attrs:{id:"audio",src:t.audioLink,preload:""},on:{loadeddata:t.startPlaying,ended:t.endPlaying}})},Oe=[];function Be(t){i("bO45")}var qe=!1,ze=Be,We="data-v-09ed2c59",He=null,Ke=Object(o["a"])(Re,je,Oe,qe,ze,We,He),Qe=Ke.exports,Ge={name:"queue",props:["tracks"],created:function(){var t=this;this.$bus.$on("queue-opened",function(e){t.openQueue()})},data:function(){return{showQueue:!1,tracksComputed:[]}},methods:{openQueue:function(){this.showQueue=!this.showQueue},mouseEnterElement:function(t){this.tracksComputed[t].text=this.tracks[t].name_per+" - "+this.tracks[t].name_trc,this.tracksComputed[t].style="color: white;",this.tracksComputed[t].img="/static/mainapp/images/playButton.png"},mouseLeaveElement:function(t){this.tracksComputed[t].text=this.tracks[t].name_trc,this.tracksComputed[t].style="",this.tracksComputed[t].img=this.tracks[t].image_alb},iterator:function(t,e,i){this.$set(this.tracksComputed,e,{img:t.image_alb,text:t.name_trc,style:""})}},watch:{tracks:function(t){this.tracksComputed=[],t.forEach(this.iterator)}}},Ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"queue"},[i("transition",{attrs:{name:"queue"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showQueue,expression:"showQueue"}],staticClass:"queue-list"},t._l(t.tracksComputed,function(e,s){return i("div",{key:s,staticClass:"queue-element",on:{mouseenter:function(e){t.mouseEnterElement(s)},mouseleave:function(e){t.mouseLeaveElement(s)}}},[i("img",{staticClass:"queue-img",attrs:{src:e.img}}),i("span",{staticClass:"queue-text",style:e.style},[t._v(t._s(e.text))])])}))])],1)},Je=[];function Xe(t){i("VdpG")}var Ue=!1,Ze=Xe,ti="data-v-37c9320b",ei=null,ii=Object(o["a"])(Ge,Ye,Je,Ue,Ze,ti,ei),si=ii.exports,ni={name:"progress-bar",components:{vueSliderComponent:Le},props:["isPlayerHovered","isFull"],data:function(){return{lastValue:0,sliderPropsFull:{width:750,height:20,"dot-height":20,"dot-width":25,min:0,tooltip:"always",sliderStyle:{"border-radius":0},processStyle:{backgroundImage:"-webkit-linear-gradient(left, #ffd319 20%, #ff901f 40%, #ff2975 55%, #f222ff 80%, #8c1eff 90%)"},bgStyle:{"background-color":"rgba(0,0,0,0.05)"},"tooltip-dir":"bottom","tooltip-style":{"background-color":"rgba(0,0,0,0)",border:"0",color:"black",font:"14px Arial,Helvetica,sans-serif"},value:0,formatter:function(t){return mins=Math.floor(t/60),secs=(t%60).toFixed(),mins+":"+(secs<10?"0"+secs:secs)}},sliderProps:{width:"100%",height:4,min:0,tooltip:"false","dot-height":4,"dot-width":25,sliderStyle:{backgroundColor:"rgba(0,0,0,0)"},processStyle:{"border-radius":"0","background-color":"rgb(0,0,0)"},bgStyle:{"background-color":"rgba(0,0,0,0)"},"tooltip-dir":"bottom","tooltip-style":{"background-color":"rgba(0,0,0,0)",border:"0",color:"black",font:"14px Arial,Helvetica,sans-serif"},value:0,formatter:function(t){return mins=Math.floor(t/60),secs=(t%60).toFixed(),mins+":"+(secs<10?"0"+secs:secs)}},widthWatcherInterval:null}},computed:{sliderPropsComputed:function(){return this.isFull?this.sliderPropsFull:this.sliderProps},duration:function(){return this.$store.state.duration},isDragging:function(){return this.$store.state.isDragging},playing:function(){return this.$store.state.playing},currentTime:{get:function(){return this.$store.state.currentTime},set:function(t){this.$store.commit("currentTime",t)}},bar_style:function(){var t=this.currentTime/this.duration*100;return t=t.toFixed(2),"width: "+Math.min(t,100)+"%;"},trackLengthTop:function(){return this.toNormalTime(this.duration)},sliderMax:function(){return Number(this.duration)},transition:function(){return this.playing?"transition: all 0.5s;":""}},watch:{duration:function(){this.$refs.slider.refresh()},isPlayerHovered:function(){this.heightChanger()},isDragging:function(t){this.heightChanger()}},methods:{widthWatcher:function(){},heightChanger:function(){this.isPlayerHovered||this.isDragging?(this.sliderProps.height=10,this.sliderProps["dot-height"]=10):(this.sliderProps.height=4,this.sliderProps["dot-height"]=4)},dragStart:function(){this.$store.commit("isDragging",!0),this.$store.commit("playing",!1)},dragEnd:function(){this.$store.commit("isDragging",!1)},click:function(){this.$store.commit("isDragging",!0),setTimeout(this.dragEnd,100)},toNormalTime:function(t){return mins=Math.floor(t/60),secs=(t%60).toFixed(),NaN!=mins&&NaN!=secs?mins+":"+(secs<10?"0"+secs:secs):""}}},ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-simple-progress"},[i("vue-slider-component",t._b({ref:"slider",attrs:{max:t.sliderMax},on:{"drag-end":t.dragEnd,"drag-start":t.dragStart},nativeOn:{mouseup:function(e){return t.click(e)}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}},"vue-slider-component",t.sliderPropsComputed,!1)),i("div",{staticClass:"background-progress-bar",style:t.bar_style+t.transition})],1)},ri=[];function oi(t){i("4zJ4")}var li=!1,ci=oi,ui="data-v-4bb1e08a",hi=null,di=Object(o["a"])(ni,ai,ri,li,ci,ui,hi),mi=di.exports,pi={name:"top-player",components:{buttons:Bt,logos:Xt,menuMore:oe,trackPerformer:ve,volumeController:Me,audioPlayer:Qe,queue:si,progressBar:mi},data:function(){return{isFull:!1,isHovered:!1,containerMove:"",performerID:0,track:{currentID:null,nextID:null,isLiked:!1},logos:{logoLink:"",nextLogoLink:"",prevLogoLink:"",isLiked:!1,nextEnvelopeLogo:""},trackPerformer:{trackName:"",performerName:""},audio:{audioLink:""},queue:{tracks:[]},HTTPConfig:"",isTimeout:!1}},mounted:function(){window.addEventListener("resize",this.updateContainer)},created:function(){var t=this;this.loadNextTrack(),this.$bus.$on("trackclicked",function(e){t.pushQueue(e.id)}),this.$bus.$on("queue-opened",function(e){t.moveContainer()})},methods:{playingEnded:function(){this.playNextTrack()},moveContainer:function(){""===this.containerMove?this.setContainer():this.containerMove=""},updateContainer:function(){""!=this.containerMove&&this.setContainer()},setContainer:function(){var t=document.body.offsetWidth/2-675;this.containerMove=t<0?"left: "+2*(t-30)+"px":"left: 0"},pushQueue:function(t){var e=this;this.$http.get("track_attr",{responseType:"json",params:{id:t}}).then(function(t){var i=e.queue.tracks[e.queue.tracks.length-1];!0===i.auto&&e.queue.tracks.pop(),e.queue.tracks.push(t.data),!0===i.auto&&e.queue.tracks.push(i),e.logos.nextLogoLink=e.queue.tracks[0].image_alb,e.$refs.logos.refresh(e.queue.tracks[0].image_alb)})},playNextTrack:function(){var t=this.queue.tracks.shift();this.loadNextTrack(t),this.$http.put("history",{},{responseType:"json",params:{track_id:t.id}}).then(function(t){})},switchPlayerView:function(){this.isFull=!this.isFull},onLikePressed:function(){this.logos.isLiked=!this.logos.isLiked,this.likeTrack()},likeTrack:function(){var t={track_id:this.track.currentID};this.logos.isLiked?this.$http.put("likes",{},{params:t}).then(this.successfulLikeFunc):this.$http.delete("likes",{params:t}).then(this.successfulLikeFunc)},successfulLikeFunc:function(t){},onMouseEnter:function(){this.isHovered=!0},onMouseLeave:function(){this.isHovered=!1},nextTrackTimeout:function(){this.isTimeout=!1},loadNextTrack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.queue.tracks[0];if(!this.isTimeout){this.isTimeout=!0,setTimeout(this.nextTrackTimeout,1e3);var e={current_track:this.track.currentID,next_track:void 0===t?"":t.id};this.$http.get("next",{responseType:"json",params:e}).then(this.nextTrackSuccessFunc)}},nextTrackSuccessFunc:function(t){var e=t.body.current,i=t.body.next;i.auto=!0,0===this.queue.tracks.length&&this.queue.tracks.push(i);var s=this.logos.logoLink;this.setCurrentTrackAttrs(e),this.logos.prevLogoLink=s,this.logos.nextLogoLink=this.queue.tracks[0].image_alb},setCurrentTrackAttrs:function(t){this.trackPerformer.trackName=t.name_trc,this.trackPerformer.performerName=t.name_per,this.performerID=t.per_id,this.audio.audioLink=t.audio_trc,this.track.currentID=t.id,document.getElementById("title").innerHTML=t.name_per+" - "+t.name_trc,this.logos.logoLink=t.image_alb,this.track.isLiked=!!t.is_liked,this.logos.isLiked=this.track.isLiked,this.$bus.$emit("next-track-load")}}},fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"player",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[i("div",{staticClass:"player-container",style:t.containerMove},[i("buttons",{attrs:{isFull:t.isFull},on:{nextclick:t.playNextTrack,dropdownclick:t.switchPlayerView}}),i("logos",t._b({ref:"logos",attrs:{isFull:t.isFull},on:{likepressed:t.onLikePressed}},"logos",t.logos,!1)),i("menu-more",{attrs:{performerID:t.performerID}}),i("track-performer",t._b({},"track-performer",t.trackPerformer,!1)),i("volume-controller",{ref:"volumeController",attrs:{isFull:t.isFull}}),i("audio-player",t._b({ref:"audioPlayer",on:{playingended:t.playingEnded}},"audio-player",t.audio,!1)),i("queue",t._b({},"queue",t.queue,!1))],1),i("progress-bar",{attrs:{isPlayerHovered:t.isHovered,isFull:t.isFull}})],1)])},gi=[];function vi(t){i("v4pc")}var yi=!1,ki=vi,bi="data-v-e461738a",xi=null,wi=Object(o["a"])(pi,fi,gi,yi,ki,bi,xi),_i=wi.exports,Ci={name:"app",components:{headerContainer:p,profile:C,settings:N,mainCompilation:xt,loader:Pt,topPlayer:_i},computed:{showLoader:function(){return this.$store.state.showLoader}}},Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("header-container"),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoader,expression:"showLoader"}],staticClass:"modal",attrs:{id:"myModal"}},[i("div",{staticClass:"modal-content"},[i("loader")],1)]),i("router-view"),i("top-player")],1)},$i=[];function Li(t){i("+VGo")}var Ei=!1,Ti=Li,Di=null,Pi=null,Vi=Object(o["a"])(Ci,Si,$i,Ei,Ti,Di,Pi),Ai=Vi.exports,Ii=i("/ocq"),Ni=i("8+8L"),Fi=i("NYxO");function Mi(t){var e=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var n=jQuery.trim(i[s]);if(n.substring(0,t.length+1)===t+"="){e=decodeURIComponent(n.substring(t.length+1));break}}return e}s["a"].use(Ii["a"]),s["a"].use(Ni["a"]),s["a"].use(Fi["a"]),s["a"].config.productionTip=!1;var Ri=Mi("csrftoken");Object.defineProperty(s["a"].prototype,"$bus",{get:function(){return this.$root.bus}}),s["a"].http.interceptors.push(function(t){t.headers.set("X-CSRFToken",Ri)});var ji=new Fi["a"].Store({state:{currentTime:0,duration:0,playing:!1,volume:100,isDragging:!1,showLoader:!1,showProfile:!1,performerName:"",performerLogo:"",performerDescription:"",performerID:0},mutations:{currentTime:function(t,e){t.currentTime=e},duration:function(t,e){t.duration=e},showLoader:function(t,e){t.showLoader=e},showProfile:function(t){t.showProfile=!t.showProfile},switchPlaying:function(t){t.playing=!t.playing},playing:function(t,e){t.playing=e},volume:function(t,e){t.volume=e},isDragging:function(t,e){t.isDragging=e},performerName:function(t,e){t.performerName=e},performerLogo:function(t,e){t.performerLogo=e},performerDescription:function(t,e){t.performerDescription=e},performerID:function(t,e){t.performerID=e}}}),Oi=new Ii["a"]({routes:[{path:"/performers/:id",name:"performer",component:C},{path:"/settings",component:N},{path:"/",component:xt}],linkActiveClass:"router-link-noob",linkExactActiveClass:"router-link-noob"});new s["a"]({data:{bus:new s["a"]({})},store:ji,router:Oi,render:function(t){return t(Ai)}}).$mount("#app")},QCm8:function(t,e){},VdpG:function(t,e){},VgaS:function(t,e){},akb9:function(t,e){},bO45:function(t,e){},izQS:function(t,e){},ku8m:function(t,e){},qBOf:function(t,e){},v4pc:function(t,e){},w2z1:function(t,e){},yBbI:function(t,e){}},[0]);
//# sourceMappingURL=app.cdb05750.js.map