{% block content %}
{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'mainapp/css/vue-slider-component/style.css' %}" />
<script type="text/x-template" id="vueSliderComponent">
    <div 
ref="wrap" 
:class="['vue-slider-component', flowDirection, disabledClass, stateClass, { 'vue-slider-has-label': piecewiseLabel }]" 
v-show="show" 
:style="wrapStyles"
@click="wrapClick"
>
<div ref="elem" aria-hidden="true" class="vue-slider" :style="[elemStyles, bgStyle]">
  <template v-if="isRange">
    <div
      ref="dot0"
      :class="[tooltipStatus, 'vue-slider-dot', { 'vue-slider-dot-focus': focusFlag && focusSlider === 0 }]"
      :style="[dotStyles, sliderStyles[0], focusFlag && focusSlider === 0 ? focusStyles[0] : null]"
      @mousedown="moveStart($event, 0)"
      @touchstart="moveStart($event, 0)"
    >
      <span :class="['vue-slider-tooltip-' + tooltipDirection[0], 'vue-slider-tooltip-wrap']">
        <slot name="tooltip" :value="val[0]" :index="0">
          <span class="vue-slider-tooltip" :style="tooltipStyles[0]">{{ '{{' }} formatter ? formatting(val[0]) : val[0] }}</span>
        </slot>
      </span>
    </div>
    <div
      ref="dot1"
      :class="[tooltipStatus, 'vue-slider-dot', { 'vue-slider-dot-focus': focusFlag && focusSlider === 1 }]"
      :style="[dotStyles, sliderStyles[1], focusFlag && focusSlider === 1 ? focusStyles[1] : null]"
      @mousedown="moveStart($event, 1)"
      @touchstart="moveStart($event, 1)"
    >
      <span :class="['vue-slider-tooltip-' + tooltipDirection[1], 'vue-slider-tooltip-wrap']">
        <slot name="tooltip" :value="val[1]" :index="1">
          <span class="vue-slider-tooltip" :style="tooltipStyles[1]">{{ '{{' }} formatter ? formatting(val[1]) : val[1] }}</span>
        </slot>
      </span>
    </div>
  </template>
  <template v-else>
    <div
      ref="dot"
      :class="[tooltipStatus, 'vue-slider-dot', { 'vue-slider-dot-focus': focusFlag && focusSlider === 0 }]"
      :style="[dotStyles, sliderStyles, focusFlag && focusSlider === 0 ? focusStyles : null]"
      @mousedown="moveStart"
      @touchstart="moveStart"
    >
      <span :class="['vue-slider-tooltip-' + tooltipDirection, 'vue-slider-tooltip-wrap']">
        <slot name="tooltip" :value="val">
          <span class="vue-slider-tooltip" :style="tooltipStyles">{{ '{{' }} formatter ? formatting(val) : val }}</span>
        </slot>
      </span>
    </div>
  </template>
  <ul class="vue-slider-piecewise">
    <li v-for="(piecewiseObj, index) in piecewiseDotWrap" class="vue-slider-piecewise-item" :style="[piecewiseDotStyle, piecewiseObj.style]" :key="index">
      <slot
        name="piecewise"
        :label="piecewiseObj.label"
        :index="index"
        :first="index === 0"
        :last="index === piecewiseDotWrap.length - 1"
        :active="piecewiseObj.inRange"
      >
        <span
          v-if="piecewise"
          class="vue-slider-piecewise-dot"
          :style="[ piecewiseStyle, piecewiseObj.inRange ? piecewiseActiveStyle : null ]"
        ></span>
      </slot>

      <slot
        name="label"
        :label="piecewiseObj.label"
        :index="index"
        :first="index === 0"
        :last="index === piecewiseDotWrap.length - 1"
        :active="piecewiseObj.inRange"
      >
        <span
          v-if="piecewiseLabel"
          class="vue-slider-piecewise-label"
          :style="[ labelStyle, piecewiseObj.inRange ? labelActiveStyle : null ]"
        >
          {{ '{{' }} piecewiseObj.label }}
        </span>
      </slot>
    </li>
  </ul>
  <div 
    ref="process" 
    :class="['vue-slider-process', { 'vue-slider-process-dragable': isRange && processDragable }]" 
    :style="processStyle"
    @click="processClick"
    @mousedown="moveStart($event, 0, true)"
    @touchstart="moveStart($event, 0, true)"
  ></div>
</div>
<input v-if="!isRange && !data" class="vue-slider-sr-only" type="range" v-model="val" :min="min" :max="max" />
</div>

</script>
<script src="{% static 'mainapp/js/vue-slider-component/script.js' %}"></script>
{% endblock %}