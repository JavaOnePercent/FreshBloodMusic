
{% load staticfiles %}
<script type="text/x-template" id="music-top">
<div class="music-top">
    <div id="next-page" class="next-page"></div>
    <div id="previous-page" class="previous-page"></div>
    <div class="infotrack" v-for="infotrack in infotracks">
    <img class="img" :src="infotrack[2]" alt="обложка">
    <div class="text">
            <label>Лучшая в этом месяце</label>
            <p>{{ '{{' }} infotrack[3]}} - {{ '{{' }} infotrack[0]}}</p>
                <p>Понравилась: {{ '{{' }} infotrack[1]}} пользователям</p>
                <div class="play">
                    <i class="fa fa-play fa-4x" aria-hidden="true"></i>
                </div>
                <div class="turn">
                    <i class="fa fa-align-justify fa-4x" aria-hidden="true"></i>
                </div>
    </div>
    </div>
</div>
</script>

<script type="text/x-template" id="compositor-top">
<div class="compositor-top">
    <label>
        Лучшие исполнители
    </label>
    <div class="compositors" id="compositors">
        <div class="compositor" v-for="compositor in compositors">
            <img class="compositor-avatar" :src="compositor[1]" alt="обложка">
            <label class="compositor-name">{{ '{{' }} compositor[0]}}</label>
        </div>
    </div>
</div>
</script>

<script type="text/x-template" id="compilation">
    <div id="compilation-top">
    <div class="recommendations">
            <div class="sortirovka">
                <label class="sortirovka-name">Рекомендации</label>
                <div class="sort">
                    <label>Отсортировать по:</label>
                    <a class="time" id="button">времени</a>
                    <a class="topic" id="button">популярности</a>
                </div>
            </div>
            <div class="music-style">
                <a class="janr" name="" @click="showGenre('all')">Все</a>
                {% for gen in genre %}
                    <a class="janr" name="{{gen.id}}" @click="showGenre('{{gen.id}}')">{{gen.name_gnr}}</a>
                {% endfor %}
            </div>
        </div>
    <div class="compilation convert">
        <div class="music" v-for="(compilation, index) in compilations">
            <img class="cover" :src="compilation.image_alb" alt="обложка" @click="trackClick(index)">
                <transition>
                    <img class="disk" src="{% static 'mainapp/images/disk2.png' %}" alt="disk">
                </transition>
            <span :title="compilation.name_trc" class="group-name">{{ '{{' }} compilation.name_trc}}</span>
            <span class="music-name" >{{ '{{' }} compilation.name_per}}</span>
        </div>
    </div>
    </div>
</script>

<script type="text/x-template" id="main">
    <div class="main">
        <div class="topics">
            <app-music-top></app-music-top>
            <compositor-top></compositor-top>
        </div>
        <app-compilation></app-compilation>
    <footer>
        ©Отвратительные мужики
    </footer>
    </div>
</script>
<script src="{% static 'mainapp/js/music-top.js' %}"></script>